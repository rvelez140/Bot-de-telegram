# ğŸª Configurar Cookies para Twitter/X y Cuentas Privadas

Esta guÃ­a te ayudarÃ¡ a configurar cookies para descargar videos de Twitter/X y cuentas privadas.

## â“ Â¿Por quÃ© necesito cookies?

Las cookies permiten al bot:
- âœ… **Descargar videos de Twitter/X** que requieren autenticaciÃ³n
- âœ… **Acceder a cuentas privadas** de Instagram/Twitter
- âœ… **Resolver errores** como "No video could be found in this tweet"
- âœ… **Mejor tasa de Ã©xito** en descargas

## ğŸš€ MÃ©todo 1: ExtensiÃ³n de Navegador (Recomendado)

### Paso 1: Instalar la extensiÃ³n

Instala **"Get cookies.txt LOCALLY"** en tu navegador:

- **Chrome:** https://chrome.google.com/webstore/detail/get-cookiestxt-locally/cclelndahbckbenkjhflpdbgdldlbecc
- **Firefox:** https://addons.mozilla.org/en-US/firefox/addon/cookies-txt/

### Paso 2: Iniciar sesiÃ³n en Twitter/X

1. Abre tu navegador
2. Ve a https://twitter.com (o https://x.com)
3. **Inicia sesiÃ³n** con tu cuenta
4. AsegÃºrate de estar completamente autenticado

### Paso 3: Exportar cookies

1. Haz clic en el **icono de la extensiÃ³n** (ğŸ“)
2. Selecciona **"Export"** o **"Download"**
3. Se descargarÃ¡ un archivo llamado `cookies.txt`

### Paso 4: Colocar el archivo

Copia el archivo `cookies.txt` al directorio del bot:

```bash
# OpciÃ³n A: Copiar directamente
cp ~/Downloads/cookies.txt ./cookies.txt

# OpciÃ³n B: Mover el archivo
mv ~/Downloads/cookies.txt ./cookies.txt
```

### Paso 5: Reconstruir el contenedor de Docker

```bash
# Detener el bot
docker-compose down

# Reconstruir con las nuevas cookies
docker-compose build --no-cache

# Iniciar el bot
docker-compose up -d
```

## ğŸ”§ MÃ©todo 2: Exportar desde el Navegador (Manual)

### Para Chrome/Edge:

1. Abre **DevTools** (F12)
2. Ve a la pestaÃ±a **"Application"** o **"AplicaciÃ³n"**
3. En el menÃº lateral, expande **"Cookies"**
4. Haz clic en **https://twitter.com**
5. Copia todas las cookies en formato Netscape

### Para Firefox:

1. Instala la extensiÃ³n **"Cookie Quick Manager"**
2. Abre la extensiÃ³n
3. Selecciona el dominio **twitter.com**
4. Exporta en formato **Netscape HTTP Cookie File**

## ğŸ“ Formato del archivo cookies.txt

El archivo debe verse asÃ­:

```
# Netscape HTTP Cookie File
# This file was generated by yt-dlp
.twitter.com	TRUE	/	TRUE	1234567890	auth_token	abc123def456...
.twitter.com	TRUE	/	TRUE	1234567890	ct0	xyz789uvw456...
.twitter.com	TRUE	/	TRUE	1234567890	guest_id	v1%3A...
```

## âœ… Verificar que funciona

1. Inicia el bot:
   ```bash
   docker-compose up -d
   ```

2. Revisa los logs:
   ```bash
   docker-compose logs -f
   ```

3. DeberÃ­as ver el mensaje:
   ```
   ğŸ“ Usando archivo de cookies para autenticaciÃ³n
   ```

4. EnvÃ­a un enlace de Twitter/X al bot
5. Si funciona, el bot descargarÃ¡ el video sin errores

## ğŸ”’ Seguridad y Privacidad

âš ï¸ **IMPORTANTE:**

- **NUNCA** compartas tu archivo `cookies.txt`
- Las cookies contienen informaciÃ³n de tu sesiÃ³n
- **NO** subas `cookies.txt` a GitHub (ya estÃ¡ en .gitignore)
- Regenera cookies si sospechas que fueron comprometidas

### Revocar acceso:

Si quieres revocar el acceso:
1. Ve a Twitter/X â†’ ConfiguraciÃ³n â†’ Seguridad
2. **"Cerrar todas las otras sesiones"**
3. Las cookies anteriores dejarÃ¡n de funcionar

## ğŸ”„ Actualizar cookies

Las cookies pueden expirar. Si el bot deja de funcionar:

1. Cierra sesiÃ³n en Twitter/X
2. Vuelve a iniciar sesiÃ³n
3. Exporta las cookies nuevamente
4. Reemplaza el archivo `cookies.txt`
5. Reconstruye el Docker:
   ```bash
   docker-compose build --no-cache
   docker-compose up -d
   ```

## ğŸ› SoluciÃ³n de Problemas

### "No video could be found in this tweet"

**Soluciones:**
1. Verifica que las cookies sean vÃ¡lidas
2. AsegÃºrate de estar autenticado en Twitter/X
3. El tweet puede no tener video (solo imÃ¡genes)
4. Actualiza yt-dlp:
   ```bash
   docker-compose build --no-cache
   ```

### El bot no usa las cookies

Verifica:
```bash
# Verificar que el archivo existe
ls -lh cookies.txt

# Verificar el tamaÃ±o (debe ser > 100 bytes)
du -h cookies.txt

# Ver contenido (primeras lÃ­neas)
head cookies.txt
```

### Cookies invÃ¡lidas

Si el archivo estÃ¡ vacÃ­o o corrupto:
1. Elimina el archivo actual: `rm cookies.txt`
2. Vuelve a exportar desde el navegador
3. AsegÃºrate de que el formato sea correcto

## ğŸ“š DocumentaciÃ³n Adicional

- **yt-dlp cookies:** https://github.com/yt-dlp/yt-dlp#authentication-with-cookies
- **Twitter/X API:** https://github.com/yt-dlp/yt-dlp/blob/master/yt_dlp/extractor/twitter.py

## ğŸ’¡ Consejos

1. **Usa una cuenta secundaria** si te preocupa la seguridad
2. **Renueva las cookies** cada 1-2 semanas
3. **MantÃ©n actualizado** yt-dlp para mejor compatibilidad
4. **Prueba primero** con un video pÃºblico antes de usar privados

---

Â¿Necesitas ayuda? Revisa los logs del bot:
```bash
docker-compose logs -f telegram-downloader-bot
```
